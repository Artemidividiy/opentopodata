



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Open DEM server.">
      
      
        <link rel="canonical" href="https://www.opentopodata.org/notes/multiple-datasets/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.6.0">
    
    
      
        <title>Multiple datasets - Open Topo Data</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.1b62728e.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.268332fc.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-59478184-7", "www.opentopodata.org")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#querying-multiple-datasets" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://www.opentopodata.org" title="Open Topo Data" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Open Topo Data
            </span>
            <span class="md-header-nav__topic">
              
                Multiple datasets
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/ajnisbet/opentopodata/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    ajnisbet/opentopodata
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://www.opentopodata.org" title="Open Topo Data" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Open Topo Data
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/ajnisbet/opentopodata/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    ajnisbet/opentopodata
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../server/" title="Server docs" class="md-nav__link">
      Server docs
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../api/" title="API docs" class="md-nav__link">
      API docs
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../changelog/" title="Release notes" class="md-nav__link">
      Release notes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Datasets
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Datasets
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../datasets/aster/" title="ASTER" class="md-nav__link">
      ASTER
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../datasets/etopo1/" title="ETOPO1" class="md-nav__link">
      ETOPO1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../datasets/eudem/" title="EU-DEM" class="md-nav__link">
      EU-DEM
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../datasets/mapzen/" title="Mapzen" class="md-nav__link">
      Mapzen
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../datasets/ned/" title="NED" class="md-nav__link">
      NED
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../datasets/nzdem/" title="NZ DEM" class="md-nav__link">
      NZ DEM
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../datasets/srtm/" title="SRTM" class="md-nav__link">
      SRTM
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../datasets/emod2018/" title="EMOD bathymetry" class="md-nav__link">
      EMOD bathymetry
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../datasets/gebco2020/" title="GEBCO bathymetry" class="md-nav__link">
      GEBCO bathymetry
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../datasets/bkg/" title="BKG" class="md-nav__link">
      BKG
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      Notes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Notes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../windows-support/" title="Windows support" class="md-nav__link">
      Windows support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cloud-storage/" title="Cloud storage" class="md-nav__link">
      Cloud storage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../invalid-srtm-zips/" title="Invalid SRTM zips" class="md-nav__link">
      Invalid SRTM zips
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dataset-sizes/" title="Dataset sizes" class="md-nav__link">
      Dataset sizes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../buffering-tiles/" title="Buffering tiles" class="md-nav__link">
      Buffering tiles
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Multiple datasets
      </label>
    
    <a href="./" title="Multiple datasets" class="md-nav__link md-nav__link--active">
      Multiple datasets
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#putting-multiple-datasets-in-the-url" class="md-nav__link">
    Putting multiple datasets in the url
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#defining-multi-dataset-in-configyaml" class="md-nav__link">
    Defining multi dataset in config.yaml
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performance-optimisation" class="md-nav__link">
    Performance optimisation
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../performance-optimisation/" title="Performance optimisation" class="md-nav__link">
      Performance optimisation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../running-without-docker/" title="Run without docker" class="md-nav__link">
      Run without docker
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#putting-multiple-datasets-in-the-url" class="md-nav__link">
    Putting multiple datasets in the url
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#defining-multi-dataset-in-configyaml" class="md-nav__link">
    Defining multi dataset in config.yaml
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performance-optimisation" class="md-nav__link">
    Performance optimisation
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/ajnisbet/opentopodata/edit/master/docs/notes/multiple-datasets.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="querying-multiple-datasets">Querying multiple datasets</h1>
<p>From v1.5.0, Open Topo Data has the ability to request the "best" elevation from multiple datasets in a single query.</p>
<p>I'm still improving the functionality, please open an issue if you find a problem.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>While Open Topo Data lets you query multiple datasets seamlessly, it doesn't ensure that the datasets you're using share the same vertical datum or have seamless transitions.</p>
<p>A great usecase for Multi Datasets would be if your usage is mostly focussed on an area with contiguous DEM coverage (like the island nation of New Zealand), but you want to technically be able to query worldwide. </p>
<p>A bad usecase for Multi Datasets is layering a bunch of patchy 10cm lidar data on top of a 1.8km base DEM and using it to draw small scale elevation profiles.</p>
</div>
<p>Say your <code>config.yaml</code> looks like this:</p>
<div class="codehilite"><pre><span></span><span class="c1"># Hi-res New Zealand.</span>
<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nzdem8m</span>
  <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">data/nzdem8m/</span>
  <span class="nt">filename_tile_size</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">65536</span>
  <span class="nt">filename_epsg</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2193</span>

<span class="c1"># Mapzen global.</span>
<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mapzen</span>
  <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">data/mapzen/</span>
</pre></div>


<p>You want the following:</p>
<ul>
<li>If you query a location in New Zealand, return the hi-res <strong>nzdem</strong> result.</li>
<li>If you query a location in New Zealand and nzdem is <code>null</code> at that location, return the <strong>mapzen</strong> result for that location.</li>
<li>If you query a location outside New Zealand, return the <strong>mapzen</strong> result for that location.</li>
</ul>
<p>There are two ways to do this.</p>
<h3 id="putting-multiple-datasets-in-the-url">Putting multiple datasets in the url</h3>
<div class="codehilite"><pre><span></span>curl https://api.opentopodata.org/v1/nzdem8m,mapzen?locations<span class="o">=</span>-43.801,172.968<span class="p">|</span>-18.143,178.444
</pre></div>


<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;results&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;dataset&quot;</span><span class="p">:</span> <span class="s2">&quot;nzdem8m&quot;</span><span class="p">,</span> 
      <span class="nt">&quot;elevation&quot;</span><span class="p">:</span> <span class="mf">1.4081547260284424</span><span class="p">,</span> 
      <span class="nt">&quot;location&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;lat&quot;</span><span class="p">:</span> <span class="mf">-43.801</span><span class="p">,</span> 
        <span class="nt">&quot;lng&quot;</span><span class="p">:</span> <span class="mf">172.968</span>
      <span class="p">}</span>
    <span class="p">},</span> 
    <span class="p">{</span>
      <span class="nt">&quot;dataset&quot;</span><span class="p">:</span> <span class="s2">&quot;mapzen&quot;</span><span class="p">,</span> 
      <span class="nt">&quot;elevation&quot;</span><span class="p">:</span> <span class="mf">23.0</span><span class="p">,</span> 
      <span class="nt">&quot;location&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;lat&quot;</span><span class="p">:</span> <span class="mf">-18.143</span><span class="p">,</span> 
        <span class="nt">&quot;lng&quot;</span><span class="p">:</span> <span class="mf">178.444</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">],</span> 
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;OK&quot;</span>
<span class="p">}</span>
</pre></div>


<p>For each location, the first non-null dataset elevation is returned.</p>
<h3 id="defining-multi-dataset-in-configyaml">Defining multi dataset in <code>config.yaml</code></h3>
<p>If you have a lot of datasets you want to merge, it's a pain to put them all in the url. Instead you can define a MultiDataset in <code>config.yaml</code>:</p>
<div class="codehilite"><pre><span></span><span class="c1"># Hi-res New Zealand.</span>
<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nzdem8m</span>
  <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">data/nzdem8m/</span>
  <span class="nt">filename_tile_size</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">65536</span>
  <span class="nt">filename_epsg</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2193</span>

<span class="c1"># Mapzen global.</span>
<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mapzen</span>
  <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">data/mapzen/</span>


<span class="c1"># NZ with mapzen fallback.</span>
<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nz-global</span>
  <span class="p p-Indicator">-</span> <span class="nt">child_datasets</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">nzdem8m</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">mapzen</span>
</pre></div>


<p>Now you can query <strong>nz-global</strong> for the same result.</p>
<div class="codehilite"><pre><span></span>curl https://api.opentopodata.org/v1/nz-global?locations<span class="o">=</span>-43.801,172.968<span class="p">|</span>-18.143,178.444
</pre></div>


<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;results&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;dataset&quot;</span><span class="p">:</span> <span class="s2">&quot;nzdem8m&quot;</span><span class="p">,</span> 
      <span class="nt">&quot;elevation&quot;</span><span class="p">:</span> <span class="mf">1.4081547260284424</span><span class="p">,</span> 
      <span class="nt">&quot;location&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;lat&quot;</span><span class="p">:</span> <span class="mf">-43.801</span><span class="p">,</span> 
        <span class="nt">&quot;lng&quot;</span><span class="p">:</span> <span class="mf">172.968</span>
      <span class="p">}</span>
    <span class="p">},</span> 
    <span class="p">{</span>
      <span class="nt">&quot;dataset&quot;</span><span class="p">:</span> <span class="s2">&quot;mapzen&quot;</span><span class="p">,</span> 
      <span class="nt">&quot;elevation&quot;</span><span class="p">:</span> <span class="mf">23.0</span><span class="p">,</span> 
      <span class="nt">&quot;location&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;lat&quot;</span><span class="p">:</span> <span class="mf">-18.143</span><span class="p">,</span> 
        <span class="nt">&quot;lng&quot;</span><span class="p">:</span> <span class="mf">178.444</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">],</span> 
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;OK&quot;</span>
<span class="p">}</span>
</pre></div>


<h2 id="performance-optimisation">Performance optimisation</h2>
<p>Querying multiple datasets is more performance-intensive than querying a single one. For a Multi Dataset with 10 child datasets where the first 9 are <code>null</code> at the queried location, Open Topo Data will have to cover the lat/lon coordinates into the CRS of all 10 datasets to try to find a tile. Worst case, if those 10 tiles exist, Open Topo Data will have to open and read from all 10 files sequentially.</p>
<p>To reduce the number of checks Open Topo Data has to do, you can manually specify the bounds of each dataset, in WGS84 format. If a location is outside those bounds, Open Topo Data doesn't need to check that dataset.</p>
<p>If your <code>config.yaml</code> file looks like</p>
<div class="codehilite"><pre><span></span><span class="c1"># Hi-res New Zealand.</span>
<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nzdem8m</span>
  <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">data/nzdem8m/</span>
  <span class="nt">filename_tile_size</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">65536</span>
  <span class="nt">filename_epsg</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2193</span>
    <span class="l l-Scalar l-Scalar-Plain">wgs84_bounds</span><span class="p p-Indicator">:</span>
    <span class="nt">left</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">165</span>
    <span class="nt">right</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">180</span>
    <span class="nt">bottom</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">-48</span>
    <span class="nt">top</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">-33</span>

<span class="c1"># Mapzen global.</span>
<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mapzen</span>
  <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">data/mapzen/</span>
</pre></div>


<p>then querying <code>nzdem8m,mapzen</code> with a location in Europe will go straight to mapzen without needing to convert the location to <code>epsg:2193</code> and check for a tile.</p>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../buffering-tiles/" title="Buffering tiles" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Buffering tiles
              </span>
            </div>
          </a>
        
        
          <a href="../performance-optimisation/" title="Performance optimisation" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Performance optimisation
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.808e90bb.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="../../js/extra.js"></script>
      
    
  </body>
</html>