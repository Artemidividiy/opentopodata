



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Open DEM server.">
      
      
        <link rel="canonical" href="https://www.opentopodata.org/datasets/eudem/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.6.0">
    
    
      
        <title>EU-DEM - Open Topo Data</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.1b62728e.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.268332fc.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-59478184-7", "www.opentopodata.org")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#eu-dem" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://www.opentopodata.org" title="Open Topo Data" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Open Topo Data
            </span>
            <span class="md-header-nav__topic">
              
                EU-DEM
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/ajnisbet/opentopodata/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    ajnisbet/opentopodata
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://www.opentopodata.org" title="Open Topo Data" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Open Topo Data
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/ajnisbet/opentopodata/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    ajnisbet/opentopodata
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../server/" title="Server docs" class="md-nav__link">
      Server docs
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../api/" title="API docs" class="md-nav__link">
      API docs
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../changelog/" title="Release notes" class="md-nav__link">
      Release notes
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked>
    
    <label class="md-nav__link" for="nav-5">
      Datasets
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Datasets
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../aster/" title="ASTER" class="md-nav__link">
      ASTER
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../etopo1/" title="ETOPO1" class="md-nav__link">
      ETOPO1
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        EU-DEM
      </label>
    
    <a href="./" title="EU-DEM" class="md-nav__link md-nav__link--active">
      EU-DEM
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#coverage" class="md-nav__link">
    Coverage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accuracy" class="md-nav__link">
    Accuracy
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#coastline" class="md-nav__link">
    Coastline
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-eu-dem-to-open-topo-data" class="md-nav__link">
    Adding EU-DEM to Open Topo Data
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#buffering-tiles-optional" class="md-nav__link">
    Buffering tiles (optional)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#public-api" class="md-nav__link">
    Public API
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#attribution" class="md-nav__link">
    Attribution
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mapzen/" title="Mapzen" class="md-nav__link">
      Mapzen
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ned/" title="NED" class="md-nav__link">
      NED
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nzdem/" title="NZ DEM" class="md-nav__link">
      NZ DEM
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../srtm/" title="SRTM" class="md-nav__link">
      SRTM
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../emod2018/" title="EMOD bathymetry" class="md-nav__link">
      EMOD bathymetry
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../gebco2020/" title="GEBCO bathymetry" class="md-nav__link">
      GEBCO bathymetry
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../bkg/" title="BKG" class="md-nav__link">
      BKG
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Notes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Notes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../notes/windows-support/" title="Windows support" class="md-nav__link">
      Windows support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../notes/cloud-storage/" title="Cloud storage" class="md-nav__link">
      Cloud storage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../notes/invalid-srtm-zips/" title="Invalid SRTM zips" class="md-nav__link">
      Invalid SRTM zips
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../notes/dataset-sizes/" title="Dataset sizes" class="md-nav__link">
      Dataset sizes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../notes/buffering-tiles/" title="Buffering tiles" class="md-nav__link">
      Buffering tiles
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../notes/multiple-datasets/" title="Multiple datasets" class="md-nav__link">
      Multiple datasets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../notes/performance-optimisation/" title="Performance optimisation" class="md-nav__link">
      Performance optimisation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../notes/running-without-docker/" title="Run without docker" class="md-nav__link">
      Run without docker
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#coverage" class="md-nav__link">
    Coverage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accuracy" class="md-nav__link">
    Accuracy
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#coastline" class="md-nav__link">
    Coastline
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-eu-dem-to-open-topo-data" class="md-nav__link">
    Adding EU-DEM to Open Topo Data
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#buffering-tiles-optional" class="md-nav__link">
    Buffering tiles (optional)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#public-api" class="md-nav__link">
    Public API
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#attribution" class="md-nav__link">
    Attribution
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/ajnisbet/opentopodata/edit/master/docs/datasets/eudem.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="eu-dem">EU-DEM</h1>
<p><a href="https://www.eea.europa.eu/data-and-maps/data/copernicus-land-monitoring-service-eu-dem">EU-DEM</a> is an elevation dataset covering Europe at a 25 metre resolution.</p>
<p>The dataset was created by merging elevation data from the SRTM and ASTER global datasets, as well as from Soviet topo maps at high latitudes. The datum used is <a href="https://spatialreference.org/ref/epsg/evrf2000-height/">EVRS2000</a>.</p>
<h2 id="coverage">Coverage</h2>
<p>The dataset covers European Environment Agency member states, plus some countries to the east. Coverage extends to small parts of Northern Africa. Unlike SRTM, EU-DEM includes the Scandinavian regions north of 60°.</p>
<p style="text-align:center; padding: 1rem 0">
  <img src="/img/eudem.jpg" alt="EU-DEM elevation">
  <br>
  <em>Render of EU-DEM elevation.</em>
</p>

<h2 id="accuracy">Accuracy</h2>
<p>The stated vertical accuracy is ± 7m RMSE. Differences to SRTM and ASTER typically fall within this 7m range even with the datasets using slightly different vertical datums. Elevations for <a href="https://www.google.com/maps/place/46%C2%B014'33.2%22N+6%C2%B010'32.1%22E/@46.2374461,6.1073519,12z/">Lake Geneva, Switzerland</a> are <a href="https://api.opentopodata.org/v1/srtm30m?locations=46.242557,206.175588">370m</a>, <a href="https://api.opentopodata.org/v1/aster30m?locations=46.242557,206.175588">374m</a>, and <a href="https://api.opentopodata.org/v1/eudem25m?locations=46.242557,206.175588">372m</a> for SRTM, ASTER, and EU-DEM respectively.</p>
<h2 id="coastline">Coastline</h2>
<p>EU-DEM uses <code>NODATA</code> values for elevations over seas and oceans, where both ASTER and SRTM assign these areas an elevation of 0m. This means that Open Topo Data isn't able to interpolate elevations for locations very close to the coast and will return a value of <code>NaN</code> in places where SRTM and ASTER might return a 0m or 1m elevation.</p>
<p>The advantage of the <code>NODATA</code> oceans is that you cane use EU-DEM without clipping to a coastline shapefile.</p>
<h2 id="adding-eu-dem-to-open-topo-data">Adding EU-DEM to Open Topo Data</h2>
<p>Make a new folder for the dataset:</p>
<div class="codehilite"><pre><span></span>mkdir ./data/eudem
</pre></div>


<p>Download the dataset from <a href="https://land.copernicus.eu/imagery-in-situ/eu-dem/eu-dem-v1.1?tab=download">Copernicus</a>. There are 27 files. Unzip them and move all the <code>.TIF</code> files into the data folder (you don't need the <code>.aux.xml</code>, <code>.ovr</code>, or <code>.TFw</code> files).</p>
<p>Your data folder should now contain only 27 TIF files:</p>
<div class="codehilite"><pre><span></span>ls ./data/eudem

<span class="c1"># eu_dem_v11_E00N20.TIF</span>
<span class="c1"># eu_dem_v11_E10N00.TIF</span>
<span class="c1"># eu_dem_v11_E10N10.TIF</span>
<span class="c1"># ...</span>
</pre></div>


<p>If you have <a href="https://gdal.org">gdal</a> installed, the easiest thing to do here is build a <a href="https://gdal.org/drivers/raster/vrt.html">VRT</a> - a single raster file that links to the 27 tiles and which Open Topo Data can treat as a single-file dataset.</p>
<div class="codehilite"><pre><span></span>mkdir ./data/eudem-vrt
<span class="nb">cd</span> ./data/eudem-vrt
gdalbuildvrt -tr <span class="m">25</span> <span class="m">25</span> -tap -te <span class="m">0</span> <span class="m">0</span> <span class="m">8000000</span> <span class="m">6000000</span> eudem.vrt ../eudem/*.TIF
<span class="nb">cd</span> ../../
</pre></div>


<p>The <code>tr</code>, <code>tap</code>, and <code>te</code> options in the above command ensure that slices from the VRT will use the exact values and grid of the source rasters.</p>
<p>Then create a <code>config.yaml</code> file:</p>
<div class="codehilite"><pre><span></span><span class="nt">datasets</span><span class="p">:</span>
<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">eudem25m</span>
  <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">data/eudem-vrt/</span>
</pre></div>


<p>Finally, rebuild to enable the new dataset at <a href="http://localhost:5000/v1/eudem25m?locations=51.575,-3.220">localhost:5000/v1/eudem25m?locations=51.575,-3.220</a>.</p>
<div class="codehilite"><pre><span></span>make build <span class="o">&amp;&amp;</span> make run
</pre></div>


<div class="admonition note">
<p class="admonition-title">Avoiding gdal</p>
<p>If you don't have gdal installed, you can use the tiles directly. There are instructions for this <a href="https://github.com/ajnisbet/opentopodata/blob/f012ec136bebcd97e1dc05645e91a6d2487127dc/docs/datasets/eudem.md#adding-eu-dem-to-open-topo-data">here</a>, but because the EU-DEM tiles don't come with an overlap you will get a <code>null</code> elevation at locations within 0.5 pixels of tile edges. </p>
</div>
<h3 id="buffering-tiles-optional">Buffering tiles (optional)</h3>
<p>The tiles provided by EU-DEM don't overlap and cover slightly less than a 1000km square. This means you'll get a <code>null</code> result for coordinates along the tile edges.</p>
<p>The <code>.vrt</code> approach above solves the overlap issue, but for improved performance you can leave the tiles separate and add a buffer to each one. This is the code I used on the public API to do this:</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">glob</span> <span class="kn">import</span> <span class="n">glob</span>
<span class="kn">import</span> <span class="nn">subprocess</span>

<span class="kn">import</span> <span class="nn">rasterio</span>


<span class="c1"># Prepare paths.</span>
<span class="n">input_pattern</span> <span class="o">=</span> <span class="s1">&#39;data/eudem/*.TIF&#39;</span>
<span class="n">input_paths</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">glob</span><span class="p">(</span><span class="n">input_pattern</span><span class="p">))</span>
<span class="k">assert</span> <span class="n">input_paths</span>
<span class="n">vrt_path</span> <span class="o">=</span> <span class="s1">&#39;data/eudem-vrt/eudem.vrt&#39;</span>
<span class="n">output_dir</span> <span class="o">=</span> <span class="s1">&#39;data/eudem-buffered/&#39;</span>
<span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">output_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>



<span class="c1"># EU-DEM specific options.</span>
<span class="n">tile_size</span> <span class="o">=</span> <span class="mi">1_000_000</span>
<span class="n">buffer_size</span> <span class="o">=</span> <span class="mi">50</span>

<span class="k">for</span> <span class="n">input_path</span> <span class="ow">in</span> <span class="n">input_paths</span><span class="p">:</span>

    <span class="c1"># Get tile bounds.</span>
    <span class="k">with</span> <span class="n">rasterio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">input_path</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">bottom</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">bounds</span><span class="o">.</span><span class="n">bottom</span><span class="p">)</span>
        <span class="n">left</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">bounds</span><span class="o">.</span><span class="n">left</span><span class="p">)</span>

    <span class="c1"># For EU-DEM only: round this partial tile down to the nearest tile_size.</span>
    <span class="k">if</span> <span class="n">left</span> <span class="o">==</span> <span class="mi">943750</span><span class="p">:</span>
        <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="c1"># New tile name in SRTM format.</span>
    <span class="n">output_name</span> <span class="o">=</span> <span class="s1">&#39;N&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">bottom</span><span class="p">)</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;E&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">left</span><span class="p">)</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;.TIF&#39;</span>
    <span class="n">output_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">output_dir</span><span class="p">,</span> <span class="n">output_name</span><span class="p">)</span>

    <span class="c1"># New bounds.</span>
    <span class="n">xmin</span> <span class="o">=</span> <span class="n">left</span> <span class="o">-</span> <span class="n">buffer_size</span>
    <span class="n">xmax</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="n">tile_size</span> <span class="o">+</span> <span class="n">buffer_size</span>
    <span class="n">ymin</span> <span class="o">=</span> <span class="n">bottom</span> <span class="o">-</span> <span class="n">buffer_size</span>
    <span class="n">ymax</span> <span class="o">=</span> <span class="n">bottom</span> <span class="o">+</span> <span class="n">tile_size</span> <span class="o">+</span> <span class="n">buffer_size</span>

    <span class="c1"># EU-DEM tiles don&#39;t cover negative locations.</span>
    <span class="n">xmin</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">xmin</span><span class="p">)</span>
    <span class="n">ymin</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">ymin</span><span class="p">)</span>

    <span class="c1"># Do the transformation.</span>
    <span class="n">cmd</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s1">&#39;gdal_translate&#39;</span><span class="p">,</span>
        <span class="s1">&#39;-a_srs&#39;</span><span class="p">,</span> <span class="s1">&#39;EPSG:3035&#39;</span><span class="p">,</span>  <span class="c1"># EU-DEM crs.</span>
        <span class="s1">&#39;-co&#39;</span><span class="p">,</span> <span class="s1">&#39;NUM_THREADS=ALL_CPUS&#39;</span><span class="p">,</span>
        <span class="s1">&#39;-co&#39;</span><span class="p">,</span> <span class="s1">&#39;COMPRESS=DEFLATE&#39;</span><span class="p">,</span>
        <span class="s1">&#39;-co&#39;</span><span class="p">,</span> <span class="s1">&#39;BIGTIFF=YES&#39;</span><span class="p">,</span>
        <span class="s1">&#39;--config&#39;</span><span class="p">,</span> <span class="s1">&#39;GDAL_CACHEMAX&#39;</span><span class="p">,</span><span class="s1">&#39;512&#39;</span><span class="p">,</span>
        <span class="s1">&#39;-projwin&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">xmin</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">ymax</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">xmax</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">ymin</span><span class="p">),</span>
        <span class="n">vrt_path</span><span class="p">,</span> <span class="n">output_path</span><span class="p">,</span>
    <span class="p">]</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
    <span class="n">r</span><span class="o">.</span><span class="n">check_returncode</span><span class="p">()</span>
</pre></div>


<p>These new files can be used in Open Topo Data with the following <code>config.yaml</code> file</p>
<div class="codehilite"><pre><span></span><span class="nt">datasets</span><span class="p">:</span>
<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">eudem25m</span>
  <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">data/eudem-buffered/</span>
  <span class="nt">filename_epsg</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3035</span>
  <span class="nt">filename_tile_size</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1000000</span>
</pre></div>


<p>and rebuilding:</p>
<div class="codehilite"><pre><span></span>make build <span class="o">&amp;&amp;</span> make run
</pre></div>


<h2 id="public-api">Public API</h2>
<p>The Open Topo Data public API lets you query EU-DEM for free:</p>
<div class="codehilite"><pre><span></span>curl https://api.opentopodata.org/v1/eudem25m?locations=57.688709,11.976404
</pre></div>


<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;results&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;elevation&quot;</span><span class="p">:</span> <span class="mf">54.576168060302734</span><span class="p">,</span>
      <span class="nt">&quot;location&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;lat&quot;</span><span class="p">:</span> <span class="mf">57.688709</span><span class="p">,</span>
        <span class="nt">&quot;lng&quot;</span><span class="p">:</span> <span class="mf">11.976404</span>
      <span class="p">},</span>
      <span class="nt">&quot;dataset&quot;</span><span class="p">:</span> <span class="s2">&quot;eudem25m&quot;</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;OK&quot;</span>
<span class="p">}</span>
</pre></div>


<p>Open Topo Data hosts version 1.1 of the dataset.</p>
<h2 id="attribution">Attribution</h2>
<p>Released by <a href="http://land.copernicus.eu/">Copernicus</a> under the following terms:</p>
<p><em>Access to data is based on a principle of full, open and free access as established by the Copernicus data and information policy Regulation (EU) No 1159/2013 of 12 July 2013. This regulation establishes registration and licensing conditions for GMES/Copernicus users. Free, full and open access to this data set is made on the conditions that:</em></p>
<ol>
<li>
<p><em>When distributing or communicating Copernicus dedicated data and Copernicus service information to the public, users shall inform the public of the source of that data and information.</em></p>
</li>
<li>
<p><em>Users shall make sure not to convey the impression to the public that the user's activities are officially endorsed by the Union.</em></p>
</li>
<li>
<p><em>Where that data or information has been adapted or modified, the user shall clearly state this.</em></p>
</li>
<li>
<p><em>The data remain the sole property of the European Union. Any information and data produced in the framework of the action shall be the sole property of the European Union. Any communication and publication by the beneficiary shall acknowledge that the data were produced "with funding by the European Union".</em></p>
</li>
</ol>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../etopo1/" title="ETOPO1" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                ETOPO1
              </span>
            </div>
          </a>
        
        
          <a href="../mapzen/" title="Mapzen" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Mapzen
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.808e90bb.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="../../js/extra.js"></script>
      
    
  </body>
</html>